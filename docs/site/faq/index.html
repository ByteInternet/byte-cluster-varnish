<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

        <title>FAQ - Byte Varnish Cluster Instructies</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="..">Byte Varnish Cluster Instructies</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../gettingstarted">Aan de slag!</a>
                    </li>
                
                
                
                    <li >
                        <a href="../joomla">Joomla</a>
                    </li>
                
                
                
                    <li >
                        <a href="../drupal">Drupal</a>
                    </li>
                
                
                
                    <li >
                        <a href="../wordpress">Wordpress</a>
                    </li>
                
                
                
                    <li >
                        <a href="../custom">Maatwerk</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href=".">FAQ</a>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li >
                    <a rel="next" href="../custom">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li class="disabled">
                    <a rel="prev" >
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#geen-enkele-pagina-wordt-gecached">Geen enkele pagina wordt gecached</a></li>
        
    
        <li class="main "><a href="#cache-aan-maar-nog-steeds-traag">Cache aan, maar nog steeds traag</a></li>
        
    
        <li class="main "><a href="#mijn-responses-bevatten-cache-headers-maar-ik-doe-nergens-header-calls-in-de-code">Mijn responses bevatten cache headers, maar ik doe nergens header() calls in de code</a></li>
        
    
        <li class="main "><a href="#gebruikers-kunnen-niet-meer-inloggen">Gebruikers kunnen niet meer inloggen</a></li>
        
    
        <li class="main "><a href="#welke-versie-van-varnish-gebruiken-jullie">Welke versie van Varnish gebruiken jullie?</a></li>
        
    
        <li class="main "><a href="#hoe-zit-het-met-ssl">Hoe zit het met SSL?</a></li>
        
    
        <li class="main "><a href="#een-externe-plugin-mag-niet-gecached-worden-wat-nu">Een externe plugin mag niet gecached worden. Wat nu?</a></li>
        
    
        <li class="main "><a href="#hoe-kan-ik-de-hele-site-flushen">Hoe kan ik de hele site flushen?</a></li>
        
    
        <li class="main "><a href="#hoe-stel-ik-een-ttl-in-voor-specifieke-urls">Hoe stel ik een TTL in voor specifieke URLs?</a></li>
        
    
        <li class="main "><a href="#kan-iedereen-een-purge-request-sturen-naar-mijn-site">Kan iedereen een purge request sturen naar mijn site?</a></li>
        
    
        <li class="main "><a href="#werkt-varnish-ook-met-subdomeinen">Werkt Varnish ook met subdomeinen?</a></li>
        
    
        <li class="main "><a href="#werkt-varnish-ook-met-presence-accounts">Werkt Varnish ook met Presence accounts?</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>Heb je na het lezen van deze pagina's nog vragen? Stuur een bericht naar support@byte.nl en je krijgt binnen 8 (werk-) uur antwoord.</p>
<h4 id="geen-enkele-pagina-wordt-gecached">Geen enkele pagina wordt gecached</h4>
<p>Let goed op de response headers, veel frameworks starten standaard een sessie waardoor er een no-cache header terug komt.</p>
<p>Anders heb je misschien een cookie die het gebruik van de cache voorkomt of de url van site bevat een van de gereserveerde woorden.  </p>
<p>Kijk hiervoor in de lijst bij de sectie <em>Tips</em>  </p>
<h4 id="cache-aan-maar-nog-steeds-traag">Cache aan, maar nog steeds traag</h4>
<p>Een frontend cache is een onderdeel van een snelle site hebben.  De cache heeft alleen invloed op de snelheid waarmee request terug komen naar de gebruiker.  </p>
<p>Je kan nogsteeds veel te veel requests doen. Of de site rendered gewoon erg traag door teveel css of javascript.  </p>
<p>Kijk bijvoorbeeld op <a href="http://yslow.org/">Yslow</a> voor meer tips over dit onderwerp.  </p>
<h4 id="mijn-responses-bevatten-cache-headers-maar-ik-doe-nergens-header-calls-in-de-code">Mijn responses bevatten cache headers, maar ik doe nergens header() calls in de code</h4>
<p>Kijk goed of je framework niet standaard een sessie start. Als dat niet het geval kan het ook een third-party component zijn wat je gebruikt.  </p>
<h4 id="gebruikers-kunnen-niet-meer-inloggen">Gebruikers kunnen niet meer inloggen</h4>
<p>Als de inlog pagina's en onderliggende pagina's worden gecached kan dat vervelende gevolgen hebben. Vaak dat er helemaal niet meer ingelogd kan worden of dat dezelfde pagina voor alle bezoekers wordt terug gegegen. Let dus goed op dat je de juiste cache headers terug stuurt na inloggen. Of nog beter een NO_CACHE cookie terug geeft.</p>
<h4 id="welke-versie-van-varnish-gebruiken-jullie">Welke versie van Varnish gebruiken jullie?</h4>
<p>Versie 3, de laatste stabiele uit Debian.  </p>
<h4 id="hoe-zit-het-met-ssl">Hoe zit het met SSL?</h4>
<p>Dat werkt gewoon! Wel vereist de nieuwe architectuur de toepassing van SNI. Dit betekent dat extreem oude browsers (Windows XP, IE 6) niet werken. De praktijk laat echter zien dat er nog maar een handjevol van zulke browsers in omloop zijn, en dit aantal iedere maand verder afneemt, omdat Microsoft de support voor deze versies heeft beeindigd.</p>
<h4 id="een-externe-plugin-mag-niet-gecached-worden-wat-nu">Een externe plugin mag niet gecached worden. Wat nu?</h4>
<p>Je zou de relevante URLs kunnen her-routeren met een RewriteRule, zodat ze bijvoorbeeld beginnen met “/nc/” (no cache). NTB.</p>
<h4 id="hoe-kan-ik-de-hele-site-flushen">Hoe kan ik de hele site flushen?</h4>
<ul>
<li>Knop service panel  </li>
<li>Een PURGE of BAN request doen voor “/.*”  </li>
</ul>
<h4 id="hoe-stel-ik-een-ttl-in-voor-specifieke-urls">Hoe stel ik een TTL in voor specifieke URLs?</h4>
<p>Geef via "cache-control" headers een max-age of s-maxage mee.  </p>
<h4 id="kan-iedereen-een-purge-request-sturen-naar-mijn-site">Kan iedereen een purge request sturen naar mijn site?</h4>
<p>Ja, maar deze zullen genegeerd worden. Alleen interne purge requests (van hetzelfde cluster) zullen afgehandeld worden en er voor zorgen dat de cache geleegd wordt.</p>
<h4 id="werkt-varnish-ook-met-subdomeinen">Werkt Varnish ook met subdomeinen?</h4>
<p>Nee, enkel "www.domein" en "domein" kunnen worden gecached. Andere subdomeinen werken wel, maar worden niet gecached. Het is wel weer mogelijk indien er een apart hostingpakket voor een subdomein wordt aangevraagd.</p>
<h4 id="werkt-varnish-ook-met-presence-accounts">Werkt Varnish ook met Presence accounts?</h4>
<p>Ja!</p>
</div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/prettify-1.0.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
    </body>
</html>